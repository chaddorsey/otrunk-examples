<?xml version="1.0" encoding="UTF-8"?>
<otrunk id="f080c070-7c8a-417c-a3fe-0737a7302806">
	<imports>
		<import class="org.concord.graph.util.state.OTDrawingTool" />
		<import class="org.concord.otrunk.OTSystem" />
		<import class="org.concord.otrunk.OTInclude" />
		<import class="org.concord.otrunk.OTIncludeRootObject" />
		<import class="org.concord.otrunk.view.OTViewBundle" />
		<import class="org.concord.otrunk.view.OTViewMode" />
		<import class="org.concord.otrunk.view.OTViewEntry" />
		<import class="org.concord.otrunk.script.ui.OTXHTMLScriptViewEntry" />
		<import class="org.concord.otrunk.view.OTMultiUserRoot" />
		<import class="org.concord.otrunk.view.document.OTCompoundDoc"/>
		<import class="org.concord.otrunk.view.document.OTDocumentViewConfig"/>
		<import class="org.concord.otrunk.script.ui.OTXHTMLScript" />
		<import class="org.concord.otrunk.script.js.OTJavascript" />
		<import class="org.concord.otrunk.script.jruby.OTJRuby" />
		<import class="org.concord.otrunk.script.OTScriptEngineBundle" />
		<import class="org.concord.otrunk.script.OTScriptEngineEntry" />
		<import class="org.concord.otrunk.script.ui.OTScriptVariable" />
		<import class="org.concord.framework.otrunk.wrapper.OTBlob" />
		<import class="org.concord.otrunk.view.OTViewChild"/>
		<import class="org.concord.biologica.state.OTOrganism" />
	    <import class="org.concord.biologica.state.OTWorld" />
	    <import class="org.concord.biologica.state.OTStaticOrganism" />
	</imports>
	<idMap>
		<idMapping local_id="activity_root"
			id="2767fe20-6c7d-11dc-8314-0800200c9a66!/udl_container" />
	</idMap>
	<objects>
		<OTSystem local_id="system">
			<bundles>
				<OTViewBundle>
					<viewEntries>
						<OTViewEntry
							objectClass="org.concord.otrunk.script.ui.OTXHTMLScript"
							viewClass="org.concord.otrunk.script.ui.OTXHTMLScriptView" />
						<OTDocumentViewConfig
							objectClass="org.concord.otrunk.view.document.OTDocument" 
							viewClass="org.concord.otrunk.view.document.OTDocumentView"
							css="body {color: purple; background-color: #FFCC33 }"/>
					</viewEntries>
				</OTViewBundle>
				<OTScriptEngineBundle>
					<engines>
						<OTScriptEngineEntry
							objectClass="org.concord.otrunk.script.jruby.OTJRuby"
							engineClass="org.concord.otrunk.script.jruby.OTJRubyEngine"/>
						<OTScriptEngineEntry
							objectClass="org.concord.otrunk.script.js.OTJavascript"
							engineClass="org.concord.otrunk.script.js.OTJavascriptEngine"/>
					</engines>
				</OTScriptEngineBundle>
			</bundles>


			<root>
				<OTXHTMLScript local_id="test-view-1">
		          <script>
					<OTJRuby name="ruby-script" local_id="ruby-script" src="scripts/ruby_erb_dragon_test.rb" />
					</script>
					<variables>
						<OTScriptVariable name="template">
							<reference>
								<OTBlob src="scripts/ruby_erb_dragon_test.html.erb" />
							</reference>
						</OTScriptVariable>
						<OTScriptVariable name="test-view-1" reference="${test-view-1}" />
						<OTScriptVariable name="staticFatherView" reference="${staticFatherView}" />
					</variables>
		        </OTXHTMLScript>
			</root>
			<library>
				<OTStaticOrganism local_id="staticFatherView" name="staticFatherView">
					<organism>
					<object refid="${staticFather}" />
					</organism>
				</OTStaticOrganism>
				<OTOrganism local_id="staticFather">
					<name>Molthwan</name>
					<sex>0</sex>
					<world>
						<OTWorld local_id="dragon_world" 	speciesPath="org/concord/biologica/worlds/dragonmarkers.xml" />
					</world>
					<alleles> b:h,a:h,b:S,a:S,b:w,a:w,b:l,a:l,b:T,a:t,a:p,a:f,a:a,a:B
					</alleles>
		        </OTOrganism>
			</library>
		</OTSystem>
	</objects>
</otrunk>