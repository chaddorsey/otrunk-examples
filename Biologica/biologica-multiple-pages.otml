<?xml version="1.0" encoding="UTF-8"?>
<otrunk id="9c11d3b0-0ad0-012a-b541-0017f2cc694e">
  <imports>
    <import class="org.concord.otrunk.OTSystem" />
    <import class="org.concord.otrunk.view.OTViewEntry" />
    <import class="org.concord.otrunk.view.OTViewBundle" />
    <import class="org.concord.otrunk.ui.OTTextPane" />
    <import class="org.concord.otrunk.ui.OTButton" />
    <import class="org.concord.otrunk.ui.OTLinkAction" />
    <import class="org.concord.biologica.state.OTChromosome" />
    <import class="org.concord.biologica.state.OTStaticOrganism" />
    <import class="org.concord.biologica.state.OTSex" />
    <import class="org.concord.biologica.state.OTOrganism" />
    <import class="org.concord.biologica.state.OTWorld" />
    <import class="org.concord.otrunk.view.document.OTCompoundDoc" />
    <import class="org.concord.otrunk.script.ui.OTScriptObject" />
    <import class="org.concord.otrunk.script.js.OTJavascript" />
    <import class="org.concord.otrunk.script.OTScriptEngineBundle" />
    <import class="org.concord.otrunk.script.OTScriptEngineEntry" />
    <import class="org.concord.framework.otrunk.view.OTFrame" />
    <import
      class="org.concord.otrunk.view.document.OTDocumentViewConfig" />
  </imports>

  <objects>
    <OTSystem>

      <bundles>
        <OTViewBundle showLeftPanel="false">
          <viewEntries>
            <OTViewEntry objectClass="org.concord.biologica.state.OTSex"
              viewClass="org.concord.biologica.state.ui.OTSexView" />
            <OTViewEntry
              objectClass="org.concord.biologica.state.OTChromosome"
              viewClass="org.concord.biologica.state.ui.OTChromosomeView" />
            <OTViewEntry
              objectClass="org.concord.biologica.state.OTStaticOrganism"
              viewClass="org.concord.biologica.state.ui.OTStaticOrganismView" />
            <OTViewEntry objectClass="org.concord.otrunk.ui.OTTextPane"
              viewClass="org.concord.otrunk.ui.swing.OTTextPaneView" />
            <OTViewEntry objectClass="org.concord.otrunk.ui.OTButton"
              viewClass="org.concord.otrunk.ui.swing.OTButtonView" />
            <OTDocumentViewConfig
              objectClass="org.concord.otrunk.view.document.OTDocument"
              viewClass="org.concord.otrunk.view.document.OTDocumentView">
              <css>
                td { padding: 0px; margin: 0px; }

                p { font-size: large; }
              </css>
            </OTDocumentViewConfig>
            <OTViewEntry
              objectClass="org.concord.otrunk.script.ui.OTScriptObject"
              viewClass="org.concord.otrunk.script.ui.OTScriptObjectView" />
          </viewEntries>
          <frame>
            <OTFrame width="1100" height="660" />
          </frame>
        </OTViewBundle>
        <OTScriptEngineBundle>
          <engines>
            <OTScriptEngineEntry
              objectClass="org.concord.otrunk.script.js.OTJavascript"
              engineClass="org.concord.otrunk.script.js.OTJavascriptEngine" />
          </engines>
        </OTScriptEngineBundle>
      </bundles>

      <root>
        <OTCompoundDoc name="Static Organisms">
          <bodyText>
            <table>
              <tr height="310">
                <td width="250">
                  <object editable="true" refid="${maleStaticOrganism}" />
                </td>
                <td width="630">
                  <object editable="true" refid="${maleChromosome}" />
                </td>
                <td valign="top" rowspan="2" width="300">
                  <object refid="${meiosis_text}" />
                </td>
              </tr>
              <tr>
                <td>
                  <object editable="true"
                    refid="${femaleStaticOrganism}" />
                </td>
                <td>
                  <object editable="true" refid="${femaleChromosome}" />
                </td>
              </tr>
              <tr height="40">
                <td colspan="2" align="right">Buttons here</td>
                <td align="center"><object refid="${meiosis_button}" /></td>
              </tr>
            </table>
            <object refid="${staticOrg_script_object}" />
            <object refid="${meiosis_button_script}" />
          </bodyText>
          <documentRefs>
            <OTTextPane local_id="meiosis_text" editable="false"
              height="620" width="300" contentType="text/html">
              <text>
                <p align="center">
                  <img
                    src="http://www.telscenter.org/images/logo_home.jpg" />
                  <br />
                </p>
                <font size="5" color="black">
                  Change a gene and see what happens to the dragon.
                </font>
                <br />
                <br />
                <font size="5" color="red">
                  Remember to use the scroll bar to see all the
                  chromosomes! (Dragons have three pairs of
                  chromosomes.)
                </font>
                <br />
                <br />
                <font size="5" color="black">
                  Note the difference, at the chromosome level, between
                  male and female dragons. See if you can figure out the
                  rule that links a dragon's genes (its "genotype") to
                  its appearance (its "phenotype").
                </font>
                <br />
                <br />
                <font size="5" color="blue">
                  When you think you understand this, click on the
                  button to go to meiosis and learn how to give dragons
                  offspring.
                </font>
              </text>
            </OTTextPane>
            <OTOrganism local_id="maleOrganism">
              <name>male</name>
              <sex>0</sex>
              <world>
                <object refid="${dragon_world}" />
              </world>
              <alleles>a:B</alleles>
            </OTOrganism>
            <OTOrganism local_id="femaleOrganism">
              <name>female</name>
              <sex>1</sex>
              <world>
                <object refid="${dragon_world}" />
              </world>
              <alleles>a:b,b:B</alleles>
            </OTOrganism>
            <OTWorld
              speciesPath="org/concord/biologica/worlds/dragon.xml"
              local_id="dragon_world" />
            <OTChromosome local_id="maleChromosome"
              name="maleChromosome" width="630" height="310" />
            <OTStaticOrganism local_id="maleStaticOrganism"
              name="maleStaticOrganism" />
            <OTChromosome local_id="femaleChromosome"
              name="femaleChromosome" width="630" height="310" />
            <OTStaticOrganism local_id="femaleStaticOrganism"
              name="femaleStaticOrganism" />
            <OTScriptObject local_id="staticOrg_script_object">
              <referenceObjects>
                <object refid="${maleChromosome}" />
                <object refid="${maleStaticOrganism}" />
                <object refid="${femaleChromosome}" />
                <object refid="${femaleStaticOrganism}" />
                <object refid="${maleOrganism}" />
                <object refid="${femaleOrganism}" />
              </referenceObjects>
              <script>
                <OTJavascript src="biologica-static-organism-screen.js" />
              </script>
            </OTScriptObject>
            <OTButton text="Go to Meiosis!" local_id="meiosis_button"/>
            <OTScriptObject local_id="meiosis_button_script">
              <referenceObjects>
                <object refid="${meiosis_page}" />
                <object refid="${meiosis_button}" />
              </referenceObjects>
              <script>
                <OTJavascript src="generic-link-button.js" />
              </script>
            </OTScriptObject>
          </documentRefs>
          <children>
            <OTCompoundDoc name="Meiosis" local_id="meiosis_page">
              <bodyText>
                <table width="880" height="620">
                  <tr>
                    <td>
                      <object editable="true" refid="${meiosisView}" />
                    </td>
                    <td>Side Text</td>
                  </tr>
                  <tr height="40">
                    <td align="right">Buttons here</td>
                    <td align="center">Meiosis Button here</td>
                  </tr>
                </table>
                <object refid="${meiosis_script_object}" />
              </bodyText>
              <documentRefs>
                <OTSex local_id="meiosisView" width="880" height="620" />
                <OTScriptObject local_id="meiosis_script_object">
                  <referenceObjects>
                    <object refid="${meiosisView}" />
                    <object refid="${maleOrganism}" />
                    <object refid="${femaleOrganism}" />
                  </referenceObjects>
                  <script>
                    <OTJavascript src="biologica-meiosis-screen.js" />
                  </script>
                </OTScriptObject>
              </documentRefs>
            </OTCompoundDoc>
            <OTCompoundDoc name="Challenge One">
              <bodyText>
                <table width="880" height="620">
                  <tr>
                    <td>
                      <object editable="true" refid="${meiosisView}" />
                    </td>
                    <td>Side Text</td>
                  </tr>
                  <tr height="40">
                    <td align="right">Buttons here</td>
                    <td align="center">Meiosis Button here</td>
                  </tr>
                </table>
                <object refid="${challenge_one_script_object}" />
              </bodyText>
              <documentRefs>
                <OTOrganism local_id="challengeOneMaleOrganism">
                  <name>male</name>
                  <sex>0</sex>
                  <world>
                    <object refid="${dragon_world}" />
                  </world>
                  <alleles>a:B</alleles>
                </OTOrganism>
                <OTOrganism local_id="challengeOneFemaleOrganism">
                  <name>female</name>
                  <sex>1</sex>
                  <world>
                    <object refid="${dragon_world}" />
                  </world>
                  <alleles>a:b,b:B</alleles>
                </OTOrganism>
                <OTScriptObject
                  local_id="challenge_one_script_object">
                  <referenceObjects>
                    <object refid="${meiosisView}" />
                    <object refid="${challengeOneMaleOrganism}" />
                    <object refid="${challengeOneFemaleOrganism}" />
                  </referenceObjects>
                  <script>
                    <OTJavascript src="biologica-challenge1-screen.js" />
                  </script>
                </OTScriptObject>
              </documentRefs>
            </OTCompoundDoc>
            <OTCompoundDoc name="Challenge Two" local_id="p3">
              <bodyText>
                <table width="880" height="620">
                  <tr>
                    <td>
                      <object editable="true" refid="${meiosisView}" />
                    </td>
                    <td>Side Text</td>
                  </tr>
                  <tr height="40">
                    <td align="right">Buttons here</td>
                    <td align="center">Meiosis Button here</td>
                  </tr>
                </table>
                <object refid="${challenge_two_script_object}" />
              </bodyText>
              <documentRefs>
                <OTOrganism local_id="challengeTwoMaleOrganism">
                  <name>male</name>
                  <sex>0</sex>
                  <world>
                    <object refid="${dragon_world}" />
                  </world>
                  <alleles>a:B</alleles>
                </OTOrganism>
                <OTOrganism local_id="challengeTwoFemaleOrganism">
                  <name>female</name>
                  <sex>1</sex>
                  <world>
                    <object refid="${dragon_world}" />
                  </world>
                  <alleles>a:b,b:B</alleles>
                </OTOrganism>
                <OTScriptObject
                  local_id="challenge_two_script_object">
                  <referenceObjects>
                    <object refid="${meiosisView}" />
                    <object refid="${challengeTwoMaleOrganism}" />
                    <object refid="${challengeTwoFemaleOrganism}" />
                  </referenceObjects>
                  <script>
                    <OTJavascript src="biologica-challenge2-screen.js" />
                  </script>
                </OTScriptObject>
              </documentRefs>
            </OTCompoundDoc>
          </children>
        </OTCompoundDoc>

      </root>

    </OTSystem>
  </objects>
</otrunk>